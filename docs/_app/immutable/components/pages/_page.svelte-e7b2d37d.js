import{S as Y,i as z,s as G,k as m,q as L,a as w,l as h,m as g,r as N,h as p,c as T,n as o,b as D,G as c,I as S,J,K as le,B as C,L as oe,u as ae,M as Z,N as j,w as x,x as $,y as ee,f as te,t as se,z as re}from"../../chunks/index-4d079cab.js";function ue(a){let t,e,s,n,l,i,r,u,d,f,I,V,b,_,q,P,U,R,B,y,M,A,W,O,F,K;return{c(){t=m("form"),e=m("p"),s=m("label"),n=L("Video from URL:"),l=w(),i=m("input"),r=w(),u=m("br"),d=w(),f=m("label"),I=L("Should play the exact second:"),V=w(),b=m("input"),_=w(),q=m("br"),P=w(),U=m("label"),R=L("When current time is:"),B=w(),y=m("input"),M=w(),A=m("br"),W=w(),O=m("p"),this.h()},l(E){t=h(E,"FORM",{class:!0});var k=g(t);e=h(k,"P",{class:!0});var v=g(e);s=h(v,"LABEL",{for:!0,class:!0});var H=g(s);n=N(H,"Video from URL:"),H.forEach(p),l=T(v),i=h(v,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),r=T(v),u=h(v,"BR",{}),d=T(v),f=h(v,"LABEL",{for:!0,class:!0});var Q=g(f);I=N(Q,"Should play the exact second:"),Q.forEach(p),V=T(v),b=h(v,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0,class:!0}),_=T(v),q=h(v,"BR",{}),P=T(v),U=h(v,"LABEL",{for:!0,class:!0});var X=g(U);R=N(X,"When current time is:"),X.forEach(p),B=T(v),y=h(v,"INPUT",{type:!0,id:!0,name:!0,step:!0,class:!0}),M=T(v),A=h(v,"BR",{}),W=T(v),v.forEach(p),O=h(k,"P",{});var ie=g(O);ie.forEach(p),k.forEach(p),this.h()},h(){o(s,"for","source"),o(s,"class","svelte-kvljh9"),o(i,"type","url"),o(i,"id","source"),o(i,"name","source"),o(i,"placeholder","YouTube link or direct link to the video file"),o(i,"class","svelte-kvljh9"),o(f,"for","second"),o(f,"class","svelte-kvljh9"),o(b,"type","number"),o(b,"id","second"),o(b,"name","second"),o(b,"min","0"),o(b,"max",""),o(b,"step","1"),o(b,"class","svelte-kvljh9"),o(U,"for","time"),o(U,"class","svelte-kvljh9"),o(y,"type","time"),o(y,"id","time"),o(y,"name","time"),o(y,"step","10"),o(y,"class","svelte-kvljh9"),o(e,"class","container svelte-kvljh9"),o(t,"class","root")},m(E,k){D(E,t,k),c(t,e),c(e,s),c(s,n),c(e,l),c(e,i),S(i,a[0]),c(e,r),c(e,u),c(e,d),c(e,f),c(f,I),c(e,V),c(e,b),S(b,a[1]),c(e,_),c(e,q),c(e,P),c(e,U),c(U,R),c(e,B),c(e,y),S(y,a[2]),c(e,M),c(e,A),c(e,W),c(t,O),F||(K=[J(i,"input",a[4]),J(b,"input",a[5]),J(y,"input",a[6])],F=!0)},p(E,[k]){k&1&&S(i,E[0]),k&2&&le(b.value)!==E[1]&&S(b,E[1]),k&4&&S(y,E[2])},i:C,o:C,d(E){E&&p(t),F=!1,oe(K)}}}function ce(a,t,e){let{onChange:s}=t,n="",l=0,i="23:59:59";function r(){n=this.value,e(0,n)}function u(){l=le(this.value),e(1,l)}function d(){i=this.value,e(2,i)}return a.$$set=f=>{"onChange"in f&&e(3,s=f.onChange)},a.$$.update=()=>{if(a.$$.dirty&15){let f=new Date(new Date().toString().split(":")[0].slice(0,-2)+i);f<new Date&&f.setDate(f.getDate()+1),s({second:l,source:n,time:f})}},[n,l,i,s,r,u,d]}class de extends Y{constructor(t){super(),z(this,t,ce,ue,G,{onChange:3})}}function fe(a){let t,e,s;return{c(){t=m("video"),e=m("source"),this.h()},l(n){t=h(n,"VIDEO",{id:!0,title:!0,class:!0});var l=g(t);e=h(l,"SOURCE",{src:!0,type:!0}),l.forEach(p),this.h()},h(){j(e.src,s=a[3])||o(e,"src",s),o(e,"type","video/mp4"),o(t,"id","player"),o(t,"title","player"),t.controls=!0,o(t,"class","svelte-6s0wqe")},m(n,l){D(n,t,l),c(t,e),a[10](t)},p(n,l){l&8&&!j(e.src,s=n[3])&&o(e,"src",s)},d(n){n&&p(t),a[10](null)}}}function me(a){let t,e;return{c(){t=m("iframe"),this.h()},l(s){t=h(s,"IFRAME",{id:!0,title:!0,src:!0,frameborder:!0,class:!0});var n=g(t);n.forEach(p),this.h()},h(){o(t,"id","player"),o(t,"title","player"),j(t.src,e=a[3])||o(t,"src",e),o(t,"frameborder","0"),t.allowFullscreen=!0,o(t,"class","svelte-6s0wqe")},m(s,n){D(s,t,n),a[9](t)},p(s,n){n&8&&!j(t.src,e=s[3])&&o(t,"src",e)},d(s){s&&p(t),a[9](null)}}}function he(a){let t,e,s;return{c(){t=m("span"),e=m("i"),s=L("No video provided"),this.h()},l(n){t=h(n,"SPAN",{class:!0});var l=g(t);e=h(l,"I",{});var i=g(e);s=N(i,"No video provided"),i.forEach(p),l.forEach(p),this.h()},h(){o(t,"class","message svelte-6s0wqe")},m(n,l){D(n,t,l),c(t,e),c(e,s)},p:C,d(n){n&&p(t)}}}function ne(a){let t,e;return{c(){t=m("div"),e=L(a[4]),this.h()},l(s){t=h(s,"DIV",{class:!0});var n=g(t);e=N(n,a[4]),n.forEach(p),this.h()},h(){o(t,"class","countdown svelte-6s0wqe")},m(s,n){D(s,t,n),c(t,e)},p(s,n){n&16&&ae(e,s[4])},d(s){s&&p(t)}}}function pe(a){let t,e;function s(r,u){return r[0]?r[2]===!0?me:fe:he}let n=s(a),l=n(a),i=a[0]&&a[4]&&ne(a);return{c(){t=m("div"),l.c(),e=w(),i&&i.c(),this.h()},l(r){t=h(r,"DIV",{class:!0});var u=g(t);l.l(u),e=T(u),i&&i.l(u),u.forEach(p),this.h()},h(){o(t,"class","root svelte-6s0wqe")},m(r,u){D(r,t,u),l.m(t,null),c(t,e),i&&i.m(t,null)},p(r,[u]){n===(n=s(r))&&l?l.p(r,u):(l.d(1),l=n(r),l&&(l.c(),l.m(t,e))),r[0]&&r[4]?i?i.p(r,u):(i=ne(r),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i:C,o:C,d(r){r&&p(t),l.d(),i&&i.d()}}}function _e(a,t,e){let{videoUrl:s}=t,{videoTimestamp:n}=t,{desiredTime:l}=t,i=s.indexOf("youtube.")!==-1,r,u=s,d,f,I;function V(_){Z[_?"unshift":"push"](()=>{r=_,e(1,r)})}function b(_){Z[_?"unshift":"push"](()=>{r=_,e(1,r)})}return a.$$set=_=>{"videoUrl"in _&&e(0,s=_.videoUrl),"videoTimestamp"in _&&e(5,n=_.videoTimestamp),"desiredTime"in _&&e(6,l=_.desiredTime)},a.$$.update=()=>{if(a.$$.dirty&483){clearTimeout(d),clearInterval(f);let _=l.getTime()-Date.now()-n*1e3;if(s.indexOf("youtube.")!==-1){const[,q]=s.match(/v=([^&]*)/)||[];e(3,u=`http://www.youtube.com/embed/${q}?enablejsapi=1&origin=${document.location.origin}`),e(2,i=!0),setTimeout(()=>{r==null||r.contentWindow.postMessage(JSON.stringify({event:"command",func:"playVideo"}),"https://www.youtube.com"),r==null||r.contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo"}),"https://www.youtube.com")},1e3),e(7,d=setTimeout(()=>{e(4,I=""),clearInterval(f),r==null||r.contentWindow.postMessage(JSON.stringify({event:"command",func:"playVideo"}),"https://www.youtube.com")},_))}else e(2,i=!1),e(3,u=s),e(7,d=setTimeout(()=>{e(4,I=""),clearInterval(f),r.play()},_));e(8,f=setInterval(()=>{e(4,I=new Date(l.getTime()-Date.now()-n*1e3).toISOString().substring(11,19))},1e3))}},[s,r,i,u,I,n,l,d,f,V,b]}class ve extends Y{constructor(t){super(),z(this,t,_e,pe,G,{videoUrl:0,videoTimestamp:5,desiredTime:6})}}function be(a){let t,e,s,n,l,i;return s=new de({props:{onChange:a[3]}}),l=new ve({props:{videoUrl:a[0],videoTimestamp:a[1],desiredTime:a[2]}}),{c(){t=m("div"),e=m("div"),x(s.$$.fragment),n=w(),x(l.$$.fragment),this.h()},l(r){t=h(r,"DIV",{class:!0});var u=g(t);e=h(u,"DIV",{class:!0});var d=g(e);$(s.$$.fragment,d),n=T(d),$(l.$$.fragment,d),d.forEach(p),u.forEach(p),this.h()},h(){o(e,"class","container svelte-1pyqcnt"),o(t,"class","root svelte-1pyqcnt")},m(r,u){D(r,t,u),c(t,e),ee(s,e,null),c(e,n),ee(l,e,null),i=!0},p(r,[u]){const d={};u&1&&(d.videoUrl=r[0]),u&2&&(d.videoTimestamp=r[1]),u&4&&(d.desiredTime=r[2]),l.$set(d)},i(r){i||(te(s.$$.fragment,r),te(l.$$.fragment,r),i=!0)},o(r){se(s.$$.fragment,r),se(l.$$.fragment,r),i=!1},d(r){r&&p(t),re(s),re(l)}}}function ge(a,t,e){let s,n,l;return[s,n,l,({source:r,second:u,time:d})=>{e(0,s=r),e(1,n=u),e(2,l=d)}]}class we extends Y{constructor(t){super(),z(this,t,ge,be,G,{})}}export{we as default};
